<!doctype html>
<html lang="en" class="govuk-template no-js">
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <title>Sqlite database - Tariff Data Manual</title>

    <link href="/tariff-data-manual/stylesheets/manifest.css" rel="stylesheet" />

    <link rel="canonical" href="https://uktrade.github.io/tariff-data-manual/tariff-data-manual/documentation/use-the-data/sqlite-database.html">

      <meta name="twitter:card" content="summary" />
      <meta name="twitter:domain" content="uktrade.github.io" />
      <meta name="twitter:image" content="https://uktrade.github.io/tariff-data-manual/images/govuk-large.png" />
      <meta name="twitter:title" content="Sqlite database - Tariff Data Manual" />
      <meta name="twitter:url" content="https://uktrade.github.io/tariff-data-manual/tariff-data-manual/documentation/use-the-data/sqlite-database.html" />

      <meta property="og:image" content="https://uktrade.github.io/tariff-data-manual/images/govuk-large.png" />
      <meta property="og:site_name" content="Tariff Data Manual" />
      <meta property="og:title" content="Sqlite database" />
      <meta property="og:type" content="object" />
      <meta property="og:url" content="https://uktrade.github.io/tariff-data-manual/tariff-data-manual/documentation/use-the-data/sqlite-database.html" />

    
  </head>

  <body class="govuk-template__body">
    <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>

    <div class="app-pane">
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="govuk-skip-link" data-module="govuk-skip-link">Skip to main content</a>

        <header class="govuk-header app-header" role="banner" data-module="govuk-header">
  <div class="govuk-header__container govuk-header__container--full-width">
    <div class="govuk-header__logo">
      <a href="https://uktrade.github.io/tariff-data-manual/" class="govuk-header__link govuk-header__link--homepage">
        <span class="govuk-header__product-name">
          Tariff Data Manual
        </span>
      </a>
        <strong class="govuk-tag">Alpha</strong>
    </div>
  </div>
</header>

      </div>

        <div id="toc-heading" class="toc-show fixedsticky">
          <button type="button" class="toc-show__label js-toc-show" aria-controls="toc">
            Table of contents <span class="toc-show__icon"></span>
          </button>
        </div>

      <div class="app-pane__body" data-module="in-page-navigation">
          <div class="app-pane__toc">
            <div class="toc" data-module="table-of-contents" tabindex="-1" aria-label="Table of contents" role="dialog">
              <div class="search" data-module="search" data-path-to-site-root="/tariff-data-manual/">
  <form action="https://www.google.co.uk/search" method="get" role="search" class="search__form govuk-!-margin-bottom-4">
    <input type="hidden" name="as_sitesearch" value="https://uktrade.github.io/tariff-data-manual"/>
    <label class="govuk-label search__label" for="search" aria-hidden="true">
      Search (via Google)
    </label>
    <input
      type="text"
      id="search" name="q"
      class="govuk-input govuk-!-margin-bottom-0 search__input"
      aria-controls="search-results"
      placeholder="Search">
    <button type="submit" class="search__button">Search</button>
  </form>
</div>

              <button type="button" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></button>
              <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading" data-module="collapsible-navigation">
                      <ul>
  <li>
    <a href="/tariff-data-manual/"><span>The UK Tariff Data Standard</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/#the-uk-39-s-import-and-export-tariff"><span>The UK’s Import and Export Tariff</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/#about-the-standard"><span>About the standard</span></a>
      </li>
    </ul>
  </li>
<li><a href="/tariff-data-manual/documentation/trade-policies.html"><span>Trade policies</span></a>
<ul>
  <li>
    <a href="/tariff-data-manual/documentation/trade-policies/trade-remedies.html"><span>Trade remedies</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/trade-remedies.html#what-a-trade-remedy-is"><span>What a trade remedy is</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/trade-remedies.html#how-trade-remedies-work"><span>How trade remedies work</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/trade-remedies.html#trade-remedy-measure-types"><span>Trade remedy measure types</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/trade-policies/suspensions-and-reliefs.html"><span>Suspensions and reliefs</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/suspensions-and-reliefs.html#the-difference-between-suspensions-and-reliefs"><span>The difference between suspensions and reliefs</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/trade-policies/agricultural-instruments.html"><span>Agricultural instruments</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/agricultural-instruments.html#meursing-code"><span>Meursing code</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/agricultural-instruments.html#simplified-procedure-value-rates"><span>Simplified procedure value rates</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/trade-policies/import---export-control.html"><span>Import and export control</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/import---export-control.html#import-controls"><span>Import controls</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/import---export-control.html#export-controls"><span>Export controls</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/import---export-control.html#measure-types-and-measure-type-series"><span>Measure types and measure type series</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/import---export-control.html#prohibitions-and-restrictions"><span>Prohibitions and restrictions</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/trade-policies/origin-quotas.html"><span>Origin quotas</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/origin-quotas.html#what-origin-quotas-are"><span>What origin quotas are</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/origin-quotas.html#how-origin-quotas-are-structured"><span>How origin quotas are structured</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/trade-policies/unilateral-preferences.html"><span>Unilateral preferences</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/unilateral-preferences.html#what-unilateral-preferences-are"><span>What unilateral preferences are</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/unilateral-preferences.html#unilateral-preference-measures"><span>Unilateral preference measures</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/trade-policies/most-favoured-nation-duties.html"><span>Most favoured nation duties</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/most-favoured-nation-duties.html#what-most-favoured-nation-is"><span>What most favoured nation is</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/most-favoured-nation-duties.html#exceptions-to-most-favoured-nation"><span>Exceptions to most favoured nation</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/most-favoured-nation-duties.html#creating-mfn-duties-in-the-tariff"><span>Creating MFN duties in the tariff</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/trade-policies/authorised-use-relief.html"><span>Authorised Use relief</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/authorised-use-relief.html#finding-an-authorised-use-commodity-code"><span>Finding an Authorised Use commodity code</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/trade-policies/steel-safeguard.html"><span>Steel safeguard</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/steel-safeguard.html#safeguard-categories"><span>Safeguard categories</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/steel-safeguard.html#where-safeguards-apply"><span>Where safeguards apply</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/steel-safeguard.html#how-often-safeguard-quotas-are-defined"><span>How often safeguard quotas are defined</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/steel-safeguard.html#what-happens-if-a-specific-quota-volume-runs-out"><span>What happens if a specific quota volume runs out</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/steel-safeguard.html#how-the-data-is-structured"><span>How the data is structured</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/trade-policies/free-trade-agreements.html"><span>Free trade agreements</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/free-trade-agreements.html#what-trade-agreements-contain"><span>What trade agreements contain</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/free-trade-agreements.html#preferential-tariffs"><span>Preferential tariffs</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/free-trade-agreements.html#tariff-rate-quotas"><span>Tariff rate quotas</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/free-trade-agreements.html#introducing-the-benefits-of-a-trade-agreement-over-time-staging"><span>Introducing the benefits of a trade agreement over time: staging</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/free-trade-agreements.html#preferential-tariff-staging"><span>Preferential tariff staging</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/free-trade-agreements.html#tariff-rate-quota-staging"><span>Tariff rate quota staging</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/free-trade-agreements.html#assigning-tariff-preference-measures-in-the-tariff"><span>Assigning tariff preference measures in the Tariff</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/trade-policies/retaliatory-measures.html"><span>Retaliatory measures</span></a>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/trade-policies/supplementary-units.html"><span>Supplementary units</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/supplementary-units.html#what-supplementary-units-are"><span>What supplementary units are</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/trade-policies/supplementary-units.html#measure-types-for-supplementary-units"><span>Measure types for supplementary units</span></a>
      </li>
    </ul>
  </li>
</ul>
</li>
<li><a href="/tariff-data-manual/documentation/data-structures.html"><span>Data structures</span></a>
<ul>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/transactions.html"><span>Transactions</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/transactions.html#transaction-streams"><span>Transaction streams</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/transactions.html#transactions-are-atomic"><span>Transactions are atomic</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/transactions.html#validation-rules"><span>Validation rules</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/measure-types.html"><span>Measure types</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-types.html#what-measure-types-are"><span>What measure types are</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-types.html#measure-type-series"><span>Measure type series</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-types.html#measure-type-combinations"><span>Measure type combinations</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-types.html#existing-measure-type-series"><span>Existing measure type series</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-types.html#measure-type-fields"><span>Measure type fields</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-types.html#measure-types-how-the-data-is-structured"><span>How the data is structured</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-types.html#measure-types-validation-rules"><span>Validation rules</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/footnotes.html"><span>Footnotes</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/footnotes.html#footnote-associations"><span>Footnote associations</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/footnotes.html#footnote-types"><span>Footnote types</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/footnotes.html#validity-rules"><span>Validity rules</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/quota-suspension-and-blocking.html"><span>Quota suspensions</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quota-suspension-and-blocking.html#why-suspensions-are-used"><span>Why suspensions are used</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quota-suspension-and-blocking.html#where-quota-suspensions-are-used-in-the-tariff"><span>Where quota suspensions are used in the Tariff</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quota-suspension-and-blocking.html#how-long-quota-blocks-last"><span>How long quota blocks last</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quota-suspension-and-blocking.html#why-quotas-are-blocked"><span>Why quotas are blocked</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quota-suspension-and-blocking.html#quota-suspensions-validation-rules"><span>Validation rules</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/measurement-units.html"><span>Measurement units</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measurement-units.html#what-are-measurement-units"><span>What are measurement units?</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measurement-units.html#measurement-unit-codes-and-abbreviations"><span>Measurement unit codes and abbreviations</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measurement-units.html#measurement-unit-qualifiers"><span>Measurement unit qualifiers</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measurement-units.html#entity-relationship-diagram-for-measurement-units"><span>Entity-relationship diagram for measurement units</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measurement-units.html#a-note-on-monetary-units"><span>A note on monetary units</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measurement-units.html#measurement-units-validation-rules"><span>Validation rules</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/commodity-codes.html"><span>Commodity codes</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/commodity-codes.html#what-commodity-codes-are-made-up-of"><span>What commodity codes are made up of</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/commodity-codes.html#if-a-commodity-codes-appears-to-have-fewer-than-10-characters"><span>If a commodity codes appears to have fewer than 10 characters</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/commodity-codes.html#chapters-98-and-99-of-the-goods-classification"><span>Chapters 98 and 99 of the goods classification</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/commodity-codes.html#why-the-online-tariff-has-indents"><span>Why the online tariff has indents</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/commodity-codes.html#defining-if-a-product-is-declarable-the-product-line-suffix"><span>Defining if a product is declarable: the product line suffix</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/commodity-codes.html#the-hierachical-nature-of-commodity-codes"><span>The hierachical nature of commodity codes</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/commodity-codes.html#how-new-commodity-codes-are-created"><span>How new commodity codes are created</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/commodity-codes.html#entity-relationship-diagram-of-39-external-39-links"><span>Entity-Relationship diagram of ‘external’ links</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/commodity-codes.html#commodity-codes-validation-rules"><span>Validation rules</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/measure-conditions.html"><span>Measure conditions</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-conditions.html#what-measure-conditions-are"><span>What measure conditions are</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-conditions.html#how-conditions-are-structured"><span>How conditions are structured</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-conditions.html#condition-codes"><span>Condition codes</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-conditions.html#action-codes"><span>Action codes</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-conditions.html#how-conditions-are-used"><span>How conditions are used</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-conditions.html#grouping-condition-codes"><span>Grouping condition codes</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-conditions.html#condition-codes-in-detail"><span>Condition codes in detail</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-conditions.html#measure-conditions-validation-rules"><span>Validation rules</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/additional-codes.html"><span>Additional codes</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/additional-codes.html#what-additional-codes-are"><span>What additional codes are</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/additional-codes.html#how-additional-codes-work"><span>How additional codes work</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/additional-codes.html#additional-code-types"><span>Additional Code Types</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/additional-codes.html#additional-codes-validation-rules"><span>Validation rules</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/additional-codes.html#how-additional-codes-apply"><span>How additional codes apply</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/geographical-areas.html"><span>Geographical areas</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/geographical-areas.html#what-geographical-areas-are"><span>What geographical areas are</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/geographical-areas.html#defining-countries-and-regions"><span>Defining countries and regions</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/geographical-areas.html#defining-country-groups"><span>Defining country groups</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/geographical-areas.html#how-geographical-areas-are-identified"><span>How geographical areas are identified</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/geographical-areas.html#membership-of-geographical-areas"><span>Membership of geographical areas</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/geographical-areas.html#excluding-countries-from-geographical-areas"><span>Excluding countries from geographical areas</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/geographical-areas.html#entity-relationship-diagram-of-the-relevant-records"><span>Entity-Relationship Diagram of the relevant records</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/geographical-areas.html#geographical-areas-validation-rules"><span>Validation rules</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/approved-data-sources.html"><span>Approved data sources</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/approved-data-sources.html#geographical-area-names"><span>Geographical area names</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/description-records.html"><span>Description records</span></a>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/measure-components.html"><span>Measure components</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-components.html#what-measure-components-are"><span>What measure components are</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-components.html#types-of-duty-applied-to-measures"><span>Types of duty applied to measures</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-components.html#breaking-down-a-duty-string"><span>Breaking down a duty string</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-components.html#duty-expressions"><span>Duty expressions</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-components.html#how-to-group-duty-expressions"><span>How to group duty expressions</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-components.html#measure-component-data-structure-entity-relationship-diagram"><span>Measure component data structure entity-relationship diagram</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measure-components.html#measure-components-validation-rules"><span>Validation rules</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/quotas.html"><span>Quotas</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quotas.html#how-tariff-quotas-operate"><span>How tariff quotas operate</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quotas.html#quota-order-numbers-and-descriptions"><span>Quota order numbers and descriptions</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quotas.html#types-of-quota"><span>Types of quota</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quotas.html#defining-and-grouping-quotas"><span>Defining and grouping quotas</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quotas.html#how-long-quotas-last-for"><span>How long quotas last for</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quotas.html#how-tariff-quotas-are-introduced"><span>How tariff quotas are introduced</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quotas.html#introductory-periods"><span>Introductory periods</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quotas.html#quotas-how-the-data-is-structured"><span>How the data is structured</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quotas.html#quota-geography-associations-blocking-and-suspensions"><span>Quota geography, associations, blocking and suspensions</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quotas.html#quotas-validation-rules"><span>Validation rules</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/certificates.html"><span>Certificates</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/certificates.html#what-certificates-are"><span>What certificates are</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/certificates.html#how-certificates-are-structured"><span>How certificates are structured</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/certificates.html#certificate-type-codes"><span>Certificate type codes</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/certificates.html#source-of-data"><span>Source of data</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/certificates.html#certificates-validation-rules"><span>Validation rules</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/validity-dates.html"><span>Validity dates</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/validity-dates.html#ending-validity-of-measures"><span>Ending validity of measures</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/validity-dates.html#validity-dates-on-descriptions"><span>Validity dates on descriptions</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/preference-codes.html"><span>Preference codes</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/preference-codes.html#what-preference-codes-do"><span>What preference codes do</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/preference-codes.html#how-preference-code-correlations-are-structured"><span>How preference code correlations are structured</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/preference-codes.html#correlation-table"><span>Correlation table</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/regulations.html"><span>Regulations</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/regulations.html#base-regulations"><span>Base regulations</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/regulations.html#regulation-ids"><span>Regulation IDs</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/regulations.html#grouping-regulations"><span>Grouping regulations</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/regulations.html#draft-regulations"><span>Draft regulations</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/regulations.html#data-structure-uk-tariff"><span>Data structure (UK tariff)</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/regulations.html#data-strucutre-historic-eu-tariff-data"><span>Data strucutre (historic EU tariff data)</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/regulations.html#regulations-validation-rules"><span>Validation rules</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/quota-associations.html"><span>Quota associations</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quota-associations.html#where-quota-associations-are-used"><span>Where quota associations are used</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quota-associations.html#quota-associations-how-the-data-is-structured"><span>How the data is structured</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quota-associations.html#how-quota-types-are-defined"><span>How quota types are defined</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quota-associations.html#quota-associations-validation-rules"><span>Validation rules</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/quota-geography.html"><span>Quota geography</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quota-geography.html#assigning-quotas-to-geographic-areas"><span>Assigning quotas to geographic areas</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quota-geography.html#managing-geography"><span>Managing geography</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quota-geography.html#strategies-for-managing-origins-and-exclusions"><span>Strategies for managing origins and exclusions</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/quota-geography.html#quota-geography-validation-rules"><span>Validation rules</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/data-structures/measures.html"><span>Measures</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measures.html#what-measures-are"><span>What measures are</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measures.html#how-a-measure-is-structured"><span>How a measure is structured</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measures.html#national-prohibition-and-restriction-types"><span>National prohibition and restriction types</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/data-structures/measures.html#measures-validation-rules"><span>Validation rules</span></a>
      </li>
    </ul>
  </li>
</ul>
</li>
<li><a href="/tariff-data-manual/documentation/validation-rules.html"><span>Validation rules</span></a>
<ul>
  <li>
    <a href="/tariff-data-manual/documentation/validation-rules/validity-contained.html"><span>Validity contained</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/validation-rules/validity-contained.html#examples"><span>Examples</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/validation-rules/uniqueness.html"><span>Uniqueness</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/validation-rules/uniqueness.html#uniqueness-examples"><span>Examples</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/validation-rules/deletion-while-in-use.html"><span>Deletion while in use</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/validation-rules/deletion-while-in-use.html#deletion-while-in-use-examples"><span>Examples</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/validation-rules/mandatory-subrecord.html"><span>Mandatory subrecord</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/validation-rules/mandatory-subrecord.html#example"><span>Example</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/validation-rules/mandatory-subrecord.html#mandatory-subrecord-test-data"><span>Test data</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/validation-rules/validity-overlaps-with-self.html"><span>Validity overlaps with self</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/validation-rules/validity-overlaps-with-self.html#validity-overlaps-with-self-examples"><span>Examples</span></a>
      </li>
    </ul>
  </li>
</ul>
</li>
<li><a href="/tariff-data-manual/documentation/use-the-data.html"><span>Use the data</span></a>
<ul>
  <li>
    <a href="/tariff-data-manual/documentation/use-the-data/sqlite-database.html"><span>SQLite database</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/use-the-data/sqlite-database.html#how-the-database-implements-the-standard"><span>How the database implements the standard</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/use-the-data/sqlite-database.html#querying-current-data"><span>Querying current data</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/use-the-data/sqlite-database.html#differences-from-the-standard"><span>Differences from the standard</span></a>
      </li>
    </ul>
  </li>
</ul>
</li>
<li><a href="/tariff-data-manual/documentation/about-the-standard.html"><span>About the standard</span></a>
<ul>
  <li>
    <a href="/tariff-data-manual/documentation/about-the-standard/how-to-get-invovled.html"><span>How to get involved</span></a>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/about-the-standard/open-standard-assessment.html"><span>Open standard assessment</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/open-standard-assessment.html#formal-specification"><span>Formal specification</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/open-standard-assessment.html#implementation-of-the-formal-specification"><span>Implementation of the formal specification</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/open-standard-assessment.html#openness"><span>Openness</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/open-standard-assessment.html#access-to-the-formal-specification"><span>Access to the formal specification</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/open-standard-assessment.html#versatility-flexibility-of-the-proposed-standard"><span>Versatility/flexibility of the proposed standard</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/open-standard-assessment.html#end-user-effect-of-the-formal-specification"><span>End-user effect of the formal specification</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/open-standard-assessment.html#maintenance-of-the-formal-specification"><span>Maintenance of the formal specification</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/open-standard-assessment.html#related-european-standards"><span>Related European standards</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/about-the-standard/relationship-with-taric.html"><span>Relationship with TARIC</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/relationship-with-taric.html#differences-from-taric3"><span>Differences from TARIC3</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/about-the-standard/how-changes-are-made.html"><span>Evolution of the standard</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/how-changes-are-made.html#the-need-for-an-open-forum"><span>The need for an open forum</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/how-changes-are-made.html#implementation-of-changes"><span>Implementation of changes</span></a>
      </li>
    </ul>
  </li>
<li><a href="/tariff-data-manual/documentation/about-the-standard/weeknotes.html"><span>Weeknotes</span></a>
<ul>
  <li>
    <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-1-beginnings.html"><span>Weeknote #1: Beginnings (w/c 2023-08-14)</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-1-beginnings.html#what-is-a-data-standard"><span>What is a data standard?</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-1-beginnings.html#so-why-are-we-doing-this"><span>So why are we doing this?</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-1-beginnings.html#what-s-next"><span>What’s next?</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-2.html"><span>Weeknote #2: w/c 2023-08-21</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-2.html#why-a-data-standard-and-why-now"><span>Why a data standard and why now</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-2.html#what-39-s-next"><span>What’s next?</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-4.html"><span>Weeknote #4: w/c 2023-09-04</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-4.html#who-our-users-are"><span>Who our users are</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-4.html#what-our-users-need-to-know"><span>What our users need to know</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-3.html"><span>Weeknote #3: w/c 2023-08-28</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-3.html#weeknote-cadence"><span>Weeknote cadence</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-3.html#what-the-tariff-application-platform-tap-does"><span>What the Tariff Application Platform (TAP) does</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-3.html#bringing-new-thoroughness-to-data-documentation"><span>Bringing new thoroughness to data documentation</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-6.html"><span>Weeknote #6: w/c 2023-09-18</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-6.html#what-the-stakeholder-group-is"><span>What the stakeholder group is</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-6.html#what-happened-at-the-meeting"><span>What happened at the meeting</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-8.html"><span>Weeknote #8: w/c 2023-09-09</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-8.html#attending-the-dsa-steering-board"><span>Attending the DSA Steering Board</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-8.html#how-we-39-re-working-with-the-european-union"><span>How we’re working with the European Union</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-8.html#future-of-the-standard"><span>Future of the standard</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-8.html#next-time"><span>Next time</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-7.html"><span>Weeknote #7: w/c 2023-09-25</span></a>
    <ul>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-7.html#what-the-peer-review-group-does"><span>What the Peer Review Group does</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-7.html#our-slot-at-peer-review-group"><span>Our slot at Peer Review Group</span></a>
      </li>
      <li>
        <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-7.html#what-prg-thought-of-our-work"><span>What PRG thought of our work</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/tariff-data-manual/documentation/about-the-standard/weeknotes/weeknote-5.html"><span>Weeknote #5: w/c 2023-09-11</span></a>
  </li>
</ul>
</li>
</ul>
</li>
</ul>


              </nav>
            </div>
          </div>

        <div class="app-pane__content toc-open-disabled" aria-label="Content" tabindex="0">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
            <h1 id="sqlite-database">SQLite database</h1>

<ul>
<li>
<a href="#how-the-database-implements-the-standard">How the database implements the standard</a>
<ul>
<li>
<a href="#transactions">Transactions</a>
</li>
<li>
<a href="#version-groups">Version groups</a>
</li>
<li>
<a href="#tracked-models">Tracked models</a>
</li>
</ul>
<p></li>
<li>
<a href="#querying-current-data">Querying current data</a>
</li>
<li>
<a href="#differences-from-the-standard">Differences from the standard</a>
</li>
</ul></p>
<p>The complete contents of the Tariff database is available as an <a href="https://sqlite.org/index.html">SQLite
database</a> download from
<a href="https://www.data.gov.uk/dataset/3bee9a8a-e69c-400e-add5-3345a87a8e25/tariffs-to-trade-with-the-uk-from-1-january-2021">data.gov.uk</a>.
The database includes all historical data and past transactions.</p>
<p>The database is published by the Department for Business and Trade (DBT). It
only includes tariff data authored or managed by DBT. It therefore does not
include VAT and excise measures or quota balances which are managed by His
Majesty&rsquo;s Revenue and Customs (HMRC).</p>
<p>The database is published daily whenever new data is available. In certain
cases, the database may lag behind live tariff implementation by several
days or may be ahead of live tariff implementation by up to a day. For the
canonical source of what is live on the border, always consult the <a href="#">CDS
download service</a> or the <a href="#">Online Tariff service</a>.</p>
<h2 id="how-the-database-implements-the-standard">How the database implements the standard</h2>
<p>The database includes one table for each record or subrecord type in the
standard. Each field in the record becomes a field in the database table.</p>
<p>Three common tables are used to simplify management of versions.</p>
<h3 id="transactions">Transactions</h3>
<p>The table <code>common_transactions</code> contains one row for every
<a href="/tariff-data-manual/documentation/data-structures/transactions.html">transaction</a>.</p>
<p>The <code>partition</code> identifies the <a href="/tariff-data-manual/documentation/data-structures/transactions.html#transaction-streams">transaction
stream</a> that the
transaction is part of:</p>

<ul>
<li><code>1</code> specifies that the transaction came from the EU transaction stream</li>
<li><code>2</code> specifies that the transaction came from the UK transaction stream</li>
</ul>
<p>The <code>order</code> field identifies the position of the transaction (starting from 1)
within the transaction stream, and corresponds to the &ldquo;logical&rdquo; transaction ID
for the transaction.</p>
<p>The combination of the <code>partition</code> and <code>order</code> fields on the transactions table
specifies the correct ordering of transactions. To query for transactions in
the correct order, use:</p>
<div class="highlight"><pre class="highlight plaintext" tabindex="0"><code>SELECT * FROM transactions ORDER BY partition ASC, order ASC
</code></pre></div><h3 id="version-groups">Version groups</h3>
<p>A &lsquo;version group&rsquo; ties together all of the versions of a single record. Each
version of the same record links (via the tracked model) to the same version
group.</p>
<p>Effectively this means that one version group corresponds to one set of
identifying fields per record type.</p>
<p>The <a href="#">current version</a> of a record is the version that appears in the most
recent transaction. The version group maintains a cache of this current version
when considering all transactions which is available via the
<code>current_version_id</code> field.</p>
<p>The table <code>common_version_groups</code> contains one row for each version group.</p>
<h3 id="tracked-models">Tracked models</h3>
<p>Each version of each record is identified by a common base called a &lsquo;tracked
model&rsquo;. The tracked model links the record to a version group and a transaction.</p>
<p>The table <code>common_tracked_models</code> contains one row for every tracked model. The
primary key on each record table is a foreign key into the tracked models table.</p>
<svg width="676pt" height="270pt"
 viewBox="0.00 0.00 676.00 270.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="database_377" class="graph" transform="scale(1 1) rotate(0) translate(4 266)">
<title>Database</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-266 672,-266 672,4 -4,4"/>
<!-- Tracked Models -->
<g id="table_116" class="node index0">
<title>Tracked Models</title>
<polygon fill="none" stroke="black" points="224.5,-193 224.5,-209 429.5,-209 429.5,-193 224.5,-193"/>
<text text-anchor="start" x="294" y="-198.8" font-family="Arial" font-size="9.00">Tracked Models</text>
<polygon fill="none" stroke="black" points="224.5,-177 224.5,-193 321.5,-193 321.5,-177 224.5,-177"/>
<text text-anchor="start" x="269" y="-182.8" font-family="Arial" font-size="9.00">id</text>
<polygon fill="none" stroke="black" points="321.5,-177 321.5,-193 378.5,-193 378.5,-177 321.5,-177"/>
<text text-anchor="start" x="345" y="-182.8" font-family="Arial" font-size="9.00">int</text>
<polygon fill="none" stroke="black" points="378.5,-177 378.5,-193 429.5,-193 429.5,-177 378.5,-177"/>
<text text-anchor="start" x="381.5" y="-182.8" font-family="Arial" font-size="9.00">pk, not null</text>
<polygon fill="none" stroke="black" points="224.5,-161 224.5,-177 321.5,-177 321.5,-161 224.5,-161"/>
<text text-anchor="start" x="247" y="-166.8" font-family="Arial" font-size="9.00">update_type</text>
<polygon fill="none" stroke="black" points="321.5,-161 321.5,-177 378.5,-177 378.5,-161 321.5,-161"/>
<text text-anchor="start" x="324.5" y="-166.8" font-family="Arial" font-size="9.00">UpdateType</text>
<polygon fill="none" stroke="black" points="378.5,-161 378.5,-177 429.5,-177 429.5,-161 378.5,-161"/>
<text text-anchor="start" x="388.5" y="-166.8" font-family="Arial" font-size="9.00">not null</text>
<polygon fill="none" stroke="black" points="224.5,-145 224.5,-161 321.5,-161 321.5,-145 224.5,-145"/>
<text text-anchor="start" x="227.5" y="-150.8" font-family="Arial" font-size="9.00">polymorphic_ctype_id</text>
<polygon fill="none" stroke="black" points="321.5,-145 321.5,-161 378.5,-161 378.5,-145 321.5,-145"/>
<text text-anchor="start" x="345" y="-150.8" font-family="Arial" font-size="9.00">int</text>
<polygon fill="none" stroke="black" points="378.5,-145 378.5,-161 429.5,-161 429.5,-145 378.5,-145"/>
<text text-anchor="start" x="388.5" y="-150.8" font-family="Arial" font-size="9.00">not null</text>
<polygon fill="none" stroke="black" points="224.5,-129 224.5,-145 321.5,-145 321.5,-129 224.5,-129"/>
<text text-anchor="start" x="244" y="-134.8" font-family="Arial" font-size="9.00">transaction_id</text>
<polygon fill="none" stroke="black" points="321.5,-129 321.5,-145 378.5,-145 378.5,-129 321.5,-129"/>
<text text-anchor="start" x="345" y="-134.8" font-family="Arial" font-size="9.00">int</text>
<polygon fill="none" stroke="black" points="378.5,-129 378.5,-145 429.5,-145 429.5,-129 378.5,-129"/>
<text text-anchor="start" x="388.5" y="-134.8" font-family="Arial" font-size="9.00">not null</text>
<polygon fill="none" stroke="black" points="224.5,-113 224.5,-129 321.5,-129 321.5,-113 224.5,-113"/>
<text text-anchor="start" x="236.5" y="-118.8" font-family="Arial" font-size="9.00">version_group_id</text>
<polygon fill="none" stroke="black" points="321.5,-113 321.5,-129 378.5,-129 378.5,-113 321.5,-113"/>
<text text-anchor="start" x="345" y="-118.8" font-family="Arial" font-size="9.00">int</text>
<polygon fill="none" stroke="black" points="378.5,-113 378.5,-129 429.5,-129 429.5,-113 378.5,-113"/>
<text text-anchor="start" x="388.5" y="-118.8" font-family="Arial" font-size="9.00">not null</text>
<polygon fill="none" stroke="black" points="223,-112 223,-210 430,-210 430,-112 223,-112"/>
</g>
<!-- Versions -->
<g id="table_432" class="node index2">
<title>Versions</title>
<polygon fill="none" stroke="black" points="483,-241 483,-257 659,-257 659,-241 483,-241"/>
<text text-anchor="start" x="553" y="-246.8" font-family="Arial" font-size="9.00">Versions</text>
<polygon fill="none" stroke="black" points="483,-225 483,-241 566,-241 566,-225 483,-225"/>
<text text-anchor="start" x="520.5" y="-230.8" font-family="Arial" font-size="9.00">id</text>
<polygon fill="none" stroke="black" points="566,-225 566,-241 608,-241 608,-225 566,-225"/>
<text text-anchor="start" x="582" y="-230.8" font-family="Arial" font-size="9.00">int</text>
<polygon fill="none" stroke="black" points="608,-225 608,-241 659,-241 659,-225 608,-225"/>
<text text-anchor="start" x="611" y="-230.8" font-family="Arial" font-size="9.00">pk, not null</text>
<polygon fill="none" stroke="black" points="483,-209 483,-225 566,-225 566,-209 483,-209"/>
<text text-anchor="start" x="502.5" y="-214.8" font-family="Arial" font-size="9.00">created_at</text>
<polygon fill="none" stroke="black" points="566,-209 566,-225 608,-225 608,-209 566,-209"/>
<text text-anchor="start" x="569" y="-214.8" font-family="Arial" font-size="9.00">datetime</text>
<polygon fill="none" stroke="black" points="608,-209 608,-225 659,-225 659,-209 608,-209"/>
<text text-anchor="start" x="618" y="-214.8" font-family="Arial" font-size="9.00">not null</text>
<polygon fill="none" stroke="black" points="483,-193 483,-209 566,-209 566,-193 483,-193"/>
<text text-anchor="start" x="501" y="-198.8" font-family="Arial" font-size="9.00">updated_at</text>
<polygon fill="none" stroke="black" points="566,-193 566,-209 608,-209 608,-193 566,-193"/>
<text text-anchor="start" x="569" y="-198.8" font-family="Arial" font-size="9.00">datetime</text>
<polygon fill="none" stroke="black" points="608,-193 608,-209 659,-209 659,-193 608,-193"/>
<text text-anchor="start" x="618" y="-198.8" font-family="Arial" font-size="9.00">not null</text>
<polygon fill="none" stroke="black" points="483,-177 483,-193 566,-193 566,-177 483,-177"/>
<text text-anchor="start" x="486" y="-182.8" font-family="Arial" font-size="9.00">current_version_id</text>
<polygon fill="none" stroke="black" points="566,-177 566,-193 608,-193 608,-177 566,-177"/>
<text text-anchor="start" x="582" y="-182.8" font-family="Arial" font-size="9.00">int</text>
<polygon fill="none" stroke="black" points="608,-177 608,-193 659,-193 659,-177 608,-177"/>
<polygon fill="none" stroke="black" points="482,-176 482,-258 660,-258 660,-176 482,-176"/>
</g>
<!-- Tracked Models&#45;&gt;Versions -->
<g id="database_377_edge3" class="edge">
<title>Tracked Models:e&#45;&gt;Versions:w</title>
<path fill="none" stroke="black" d="M430.5,-121C482.51,-121 432.82,-221.91 474.5,-232.16"/>
<polygon fill="black" stroke="black" points="474.26,-234.78 482,-233 474.84,-229.56 474.26,-234.78"/>
</g>
<!-- Transactions -->
<g id="table_733" class="node index3">
<title>Transactions</title>
<polygon fill="none" stroke="black" points="484,-133 484,-149 658,-149 658,-133 484,-133"/>
<text text-anchor="start" x="544.5" y="-138.8" font-family="Arial" font-size="9.00">Transactions</text>
<polygon fill="none" stroke="black" points="484,-117 484,-133 579,-133 579,-117 484,-117"/>
<text text-anchor="start" x="527.5" y="-122.8" font-family="Arial" font-size="9.00">id</text>
<polygon fill="none" stroke="black" points="579,-117 579,-133 621,-133 621,-117 579,-117"/>
<text text-anchor="start" x="595" y="-122.8" font-family="Arial" font-size="9.00">int</text>
<polygon fill="none" stroke="black" points="621,-117 621,-133 658,-133 658,-117 621,-117"/>
<text text-anchor="start" x="624" y="-122.8" font-family="Arial" font-size="9.00">not null</text>
<polygon fill="none" stroke="black" points="484,-101 484,-117 579,-117 579,-101 484,-101"/>
<text text-anchor="start" x="509.5" y="-106.8" font-family="Arial" font-size="9.00">created_at</text>
<polygon fill="none" stroke="black" points="579,-101 579,-117 621,-117 621,-101 579,-101"/>
<text text-anchor="start" x="582" y="-106.8" font-family="Arial" font-size="9.00">datetime</text>
<polygon fill="none" stroke="black" points="621,-101 621,-117 658,-117 658,-101 621,-101"/>
<text text-anchor="start" x="624" y="-106.8" font-family="Arial" font-size="9.00">not null</text>
<polygon fill="none" stroke="black" points="484,-85 484,-101 579,-101 579,-85 484,-85"/>
<text text-anchor="start" x="508" y="-90.8" font-family="Arial" font-size="9.00">updated_at</text>
<polygon fill="none" stroke="black" points="579,-85 579,-101 621,-101 621,-85 579,-85"/>
<text text-anchor="start" x="582" y="-90.8" font-family="Arial" font-size="9.00">datetime</text>
<polygon fill="none" stroke="black" points="621,-85 621,-101 658,-101 658,-85 621,-85"/>
<text text-anchor="start" x="624" y="-90.8" font-family="Arial" font-size="9.00">not null</text>
<polygon fill="none" stroke="black" points="484,-69 484,-85 579,-85 579,-69 484,-69"/>
<text text-anchor="start" x="487" y="-74.8" font-family="Arial" font-size="9.00">import_transaction_id</text>
<polygon fill="none" stroke="black" points="579,-69 579,-85 621,-85 621,-69 579,-69"/>
<text text-anchor="start" x="595" y="-74.8" font-family="Arial" font-size="9.00">int</text>
<polygon fill="none" stroke="black" points="621,-69 621,-85 658,-85 658,-69 621,-69"/>
<polygon fill="none" stroke="black" points="484,-53 484,-69 579,-69 579,-53 484,-53"/>
<text text-anchor="start" x="520.5" y="-58.8" font-family="Arial" font-size="9.00">order</text>
<polygon fill="none" stroke="black" points="579,-53 579,-69 621,-69 621,-53 579,-53"/>
<text text-anchor="start" x="595" y="-58.8" font-family="Arial" font-size="9.00">int</text>
<polygon fill="none" stroke="black" points="621,-53 621,-69 658,-69 658,-53 621,-53"/>
<text text-anchor="start" x="624" y="-58.8" font-family="Arial" font-size="9.00">not null</text>
<polygon fill="none" stroke="black" points="484,-37 484,-53 579,-53 579,-37 484,-37"/>
<text text-anchor="start" x="500.5" y="-42.8" font-family="Arial" font-size="9.00">composite_key</text>
<polygon fill="none" stroke="black" points="579,-37 579,-53 621,-53 621,-37 579,-37"/>
<text text-anchor="start" x="592.5" y="-42.8" font-family="Arial" font-size="9.00">text</text>
<polygon fill="none" stroke="black" points="621,-37 621,-53 658,-53 658,-37 621,-37"/>
<text text-anchor="start" x="624" y="-42.8" font-family="Arial" font-size="9.00">not null</text>
<polygon fill="none" stroke="black" points="484,-21 484,-37 579,-37 579,-21 484,-21"/>
<text text-anchor="start" x="501.5" y="-26.8" font-family="Arial" font-size="9.00">workbasket_id</text>
<polygon fill="none" stroke="black" points="579,-21 579,-37 621,-37 621,-21 579,-21"/>
<text text-anchor="start" x="595" y="-26.8" font-family="Arial" font-size="9.00">int</text>
<polygon fill="none" stroke="black" points="621,-21 621,-37 658,-37 658,-21 621,-21"/>
<text text-anchor="start" x="624" y="-26.8" font-family="Arial" font-size="9.00">not null</text>
<polygon fill="none" stroke="black" points="484,-5 484,-21 579,-21 579,-5 484,-5"/>
<text text-anchor="start" x="514.5" y="-10.8" font-family="Arial" font-size="9.00">partition</text>
<polygon fill="none" stroke="black" points="579,-5 579,-21 621,-21 621,-5 579,-5"/>
<text text-anchor="start" x="583" y="-10.8" font-family="Arial" font-size="9.00">Partition</text>
<polygon fill="none" stroke="black" points="621,-5 621,-21 658,-21 658,-5 621,-5"/>
<text text-anchor="start" x="624" y="-10.8" font-family="Arial" font-size="9.00">not null</text>
<polygon fill="none" stroke="black" points="483,-4 483,-150 659,-150 659,-4 483,-4"/>
</g>
<!-- Tracked Models&#45;&gt;Transactions -->
<g id="database_377_edge4" class="edge">
<title>Tracked Models:e&#45;&gt;Transactions:w</title>
<path fill="none" stroke="black" d="M430.5,-137C451.63,-137 457.71,-127.65 475.32,-125.46"/>
<polygon fill="black" stroke="black" points="475.67,-128.06 483,-125 475.36,-122.82 475.67,-128.06"/>
</g>
<!-- Record -->
<g id="table_752" class="node index1">
<title>Record</title>
<polygon fill="none" stroke="black" points="9.5,-193 9.5,-209 170.5,-209 170.5,-193 9.5,-193"/>
<text text-anchor="start" x="74.5" y="-198.8" font-family="Arial" font-size="9.00">Record</text>
<polygon fill="none" stroke="black" points="9.5,-177 9.5,-193 100.5,-193 100.5,-177 9.5,-177"/>
<text text-anchor="start" x="12.5" y="-182.8" font-family="Arial" font-size="9.00">trackedmodel_ptr_id</text>
<polygon fill="none" stroke="black" points="100.5,-177 100.5,-193 119.5,-193 119.5,-177 100.5,-177"/>
<text text-anchor="start" x="105" y="-182.8" font-family="Arial" font-size="9.00">int</text>
<polygon fill="none" stroke="black" points="119.5,-177 119.5,-193 170.5,-193 170.5,-177 119.5,-177"/>
<text text-anchor="start" x="122.5" y="-182.8" font-family="Arial" font-size="9.00">pk, not null</text>
<polygon fill="none" stroke="black" points="9.5,-161 9.5,-177 100.5,-177 100.5,-161 9.5,-161"/>
<text text-anchor="start" x="51.5" y="-166.8" font-family="Arial" font-size="9.00">&hellip;</text>
<polygon fill="none" stroke="black" points="100.5,-161 100.5,-177 119.5,-177 119.5,-161 100.5,-161"/>
<text text-anchor="start" x="103.5" y="-166.8" font-family="Arial" font-size="9.00">&ldquo;&hellip;&rdquo;</text>
<polygon fill="none" stroke="black" points="119.5,-161 119.5,-177 170.5,-177 170.5,-161 119.5,-161"/>
<polygon fill="none" stroke="black" points="8,-160 8,-210 171,-210 171,-160 8,-160"/>
</g>
<!-- Record&#45;&gt;Tracked Models -->
<g id="database_377_edge1" class="edge">
<title>Record:e&#45;&gt;Tracked Models:w</title>
<path fill="none" stroke="black" d="M171.5,-185C191.72,-185 198.67,-185 215.58,-185"/>
<polygon fill="black" stroke="black" points="216,-187.63 223.5,-185 216,-182.38 216,-187.63"/>
</g>
<!-- Versions&#45;&gt;Tracked Models -->
<g id="database_377_edge2" class="edge">
<title>Versions:e&#45;&gt;Tracked Models:w</title>
<path fill="none" stroke="black" d="M660,-185C665.79,-185 663.25,-175.94 659,-172 643.92,-158.03 492.67,-163.41 474,-172 451.66,-182.27 460.34,-203.73 438,-214 351.79,-253.65 292.74,-279.93 224.5,-214 217.69,-207.42 213.39,-194.86 216.69,-188.66"/>
<polygon fill="black" stroke="black" points="218.14,-190.86 223.5,-185 215.65,-186.24 218.14,-190.86"/>
</g>
</g>
</svg><h2 id="querying-current-data">Querying current data</h2>
<p>Querying the database for the current set of records is not as simple as just
querying each table because each table contains every version of the records as
a separate row.</p>
<p>Instead, the version group contains a <code>current_version_id</code> which identifies the
current version of each record. Returning only the current records from an
example <code>records</code> table therefore involves using a join onto the version group:</p>
<div class="highlight"><pre class="highlight plaintext" tabindex="0"><code>SELECT * FROM records
    INNER JOIN common_version_groups
        ON records.trackedmodel_ptr_id = common_version_groups.current_version_id
</code></pre></div><p>Foreign keys on a table link to the version of the foreign record that were
current when that record was written. Joining across tables using the foreign
key directly may therefore return records from an earlier version. What is
normally wanted is the current version of all data returned in the query.</p>
<p>This is achieved by finding the version group for the foreign key as above and
then linking back to the foreign record table with the current version:</p>
<div class="highlight"><pre class="highlight plaintext" tabindex="0"><code>SELECT * FROM records
    INNER JOIN common_tracked_models
        ON records.foreign_record_id = common_tracked_models.id
    INNER JOIN common_version_groups
        ON common_tracked_models.version_group_id = common_version_groups.id
    INNER JOIN foreign_records
        ON common_version_groups.current_version_id = foreign_records.trackedmodel_ptr_id
</code></pre></div><h2 id="differences-from-the-standard">Differences from the standard</h2>
<p>There are a number of instances where the database does not follow the pattern
of one record type being implemented as one table.</p>

<ul>
<li>For <a href="/tariff-data-manual/documentation/data-structures/regulations.html">regulations</a>: all regulations are
contained in a single <code>regulations</code> table and the relationships between them
are implemented as link tables. This is instead of each regulation record type
living in its own table.</li>
<li>For <a href="#">descriptions</a>: because the SQLite database is only designed to support
the English language, each description and description period record is
contained in the same database table. Non-English descriptions in historical
data are not included.
<link href="/tariff-data-manual/stylesheets/dot.css" rel="stylesheet" /></li>
</ul>

            
          </main>

          <aside>
              <ul class="contribution-banner">
                <li><a href="https://github.com/uktrade/tariff-data-manual/wiki/Use-the-data;-SQLite-database">View source</a></li>
                <li><a href="https://github.com/uktrade/tariff-data-manual/issues/new?body=Problem+with+%27Sqlite+database%27+%28https%3A%2F%2Fuktrade.github.io%2Ftariff-data-manual%2Ftariff-data-manual%2Fdocumentation%2Fuse-the-data%2Fsqlite-database.html%29&amp;labels=bug&amp;title=Re%3A+%27Sqlite+database%27">Report problem</a></li>
                <li><a href="https://github.com/uktrade/tariff-data-manual">GitHub Repo</a></li>
              </ul>
          </aside>

          <footer class="govuk-footer app-footer" role="contentinfo">
  <div class="govuk-footer__meta">
    <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">


      <svg
        aria-hidden="true"
        focusable="false"
        class="govuk-footer__licence-logo"
        xmlns="http://www.w3.org/2000/svg"
        viewbox="0 0 483.2 195.7"
        height="17"
        width="41"
      >
        <path
          fill="currentColor"
          d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"
        />
      </svg>
      <span class="govuk-footer__licence-description">
        All content is available under the
        <a
          class="govuk-footer__link"
          href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
          rel="license"
        >Open Government Licence v3.0</a>, except where otherwise stated
      </span>
    </div>
    <div class="govuk-footer__meta-item">
      <a
        class="govuk-footer__link govuk-footer__copyright-logo"
        href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/"
      >© Crown copyright</a>
    </div>
  </div>
</footer>

        </div>
      </div>
    </div>

      <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'GTM-P9CRWB2', 'auto');
  ga('set', 'anonymizeIp', true);
  ga('set', 'displayFeaturesTask', null);
  ga('set', 'transport', 'beacon');
  ga('set', 'page', location.pathname+location.search+location.hash);
  ga('send', 'pageview');
  </script>

    <script src="/tariff-data-manual/javascripts/application.js"></script>
  </body>
</html>
